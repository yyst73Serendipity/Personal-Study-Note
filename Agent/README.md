# 从0到1实现的智能Agent系统

## 项目概述

这是一个完全从零开始实现的智能Agent系统，具备感知、记忆、推理、规划、工具调用等完整的智能体功能。系统采用模块化设计，每个模块都有明确的职责分工，实现了真正的从0到1的Agent架构。

## 核心特性

### 🤖 完整的Agent架构
- **感知模块**：解析用户输入，提取意图和参数
- **记忆模块**：管理对话历史和上下文状态
- **推理模块**：基于规则和算法的决策逻辑
- **规划模块**：制定执行计划和任务分解
- **状态管理**：管理Agent的全局状态
- **工具管理**：注册、管理和调用各种工具函数

### 🛠️ 丰富的工具函数
- **计算工具**：加法、减法、乘法、除法运算
- **翻译工具**：中英互译（支持百度翻译API）
- **时间工具**：获取当前时间、日期
- **文本分析**：字母统计、单词统计、文本分析

### 📊 详细的思考过程展示
当 `verbose=True` 时，系统会详细展示完整的思考过程：

```
🔄 开始处理用户输入: "2+3等于多少？"

📝 感知结果:
  - 意图: calculator
  - 置信度: 0.85
  - 参数: {'a': 2, 'b': 3}

📚 获取到 2 条相关历史

🧠 推理结果:
  - 最终意图: calculator
  - 选择工具: add
  - 工具参数: {'a': 2, 'b': 3}

📋 执行计划:
  - 步骤数: 3
  - 预计时间: 0.25秒

⚙️  开始执行计划...
  📌 执行步骤 1: 验证推理结果
  📌 执行步骤 2: 执行工具: add
    🔧 执行工具: add
    📝 参数: {'a': 2, 'b': 3}
    ✅ 工具结果: 2 + 3 = 5.0
  📌 执行步骤 3: 生成回复
    💬 生成回复: 2 + 3 = 5.0

✅ 处理完成
```

## 项目结构

```
Agent/
├── main.py                    # 主入口文件
├── requirements.txt           # 依赖文件
├── README.md                 # 项目文档
├── core/                     # 核心模块目录
│   ├── __init__.py
│   ├── agent.py             # Agent核心类
│   ├── perception.py        # 感知模块
│   ├── memory.py           # 记忆模块
│   ├── reasoning.py        # 推理模块
│   ├── planning.py         # 规划模块
│   ├── state_manager.py    # 状态管理器
│   └── tool_manager.py     # 工具管理器
├── tools/                   # 工具函数目录
│   ├── __init__.py
│   ├── calculator.py       # 计算工具
│   ├── translator.py       # 翻译工具
│   ├── datetime_tool.py   # 时间工具
│   └── text_analyzer.py   # 文本分析工具
├── utils/                  # 工具函数目录
│   ├── __init__.py
│   ├── text_parser.py     # 文本解析工具
│   └── config.py          # 配置管理
└── data/                  # 数据目录
    ├── dialogue_history.json  # 对话历史存储
    └── agent_state.json      # Agent状态存储
```

## 核心模块详解

### 1. 感知模块 (PerceptionModule)
- **功能**：解析用户输入，提取关键信息
- **实现**：关键词匹配、意图识别、参数提取
- **输出**：结构化的用户意图和参数

### 2. 记忆模块 (MemoryModule)
- **功能**：维护对话历史和上下文
- **实现**：对话记录存储、上下文状态管理、记忆检索
- **特性**：支持相似对话查找、用户偏好分析

### 3. 推理模块 (ReasoningModule)
- **功能**：基于用户输入和历史进行推理
- **实现**：意图分析算法、工具选择逻辑、参数推理
- **算法**：基于规则的推理引擎，不使用大模型

### 4. 规划模块 (PlanningModule)
- **功能**：制定执行计划
- **实现**：任务分解、执行顺序规划、错误处理
- **特性**：支持复杂任务分解、并行执行优化

### 5. 状态管理器 (StateManager)
- **功能**：管理Agent的全局状态
- **实现**：会话状态、工具状态、上下文状态
- **设计**：状态机模式，支持状态持久化

### 6. 工具管理器 (ToolManager)
- **功能**：管理所有工具函数
- **实现**：工具注册机制、统一调用接口、结果处理
- **特性**：支持动态工具注册、参数验证

## 安装和使用

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行系统
```bash
python main.py
```

### 3. 使用示例
```
🤖 智能Agent系统启动中...
✅ Agent初始化完成！
💡 支持功能：计算、翻译、时间查询、文本分析等
💡 输入 'exit' 退出系统
--------------------------------------------------

用户: 2+3等于多少？
Agent: 2 + 3 = 5.0

用户: 翻译"hello"
Agent: 翻译结果: 你好

用户: 现在几点了？
Agent: 当前时间: 2024-01-15 14:30:25
```

## 配置说明

### 翻译API配置
如需使用翻译功能，请在 `tools/translator.py` 中配置百度翻译API：

```python
self.appid = "your appid"  # 填写你的appid
self.secret_key = "your secret key"  # 填写你的密钥
```

## 技术特点

### ✅ 完全自研
- 不依赖任何大模型API
- 自己实现所有核心逻辑
- 基于规则和算法的推理引擎

### ✅ 模块化设计
- 每个模块独立可测试
- 支持模块的替换和扩展
- 清晰的接口定义

### ✅ 可扩展性
- 工具可以轻松添加
- 推理规则可以配置
- 状态管理灵活

### ✅ 详细日志
- 完整的思考过程展示
- 详细的执行步骤记录
- 便于调试和优化

## 与现有系统的区别

| 方面 | 传统API调用系统 | 本Agent系统 |
|------|----------------|-------------|
| **推理引擎** | 依赖外部大模型 | 自己实现 |
| **决策逻辑** | 大模型内置 | 自己设计算法 |
| **工具调用** | OpenAI标准接口 | 自己实现调用机制 |
| **核心价值** | 工具集成 | 智能决策系统 |
| **可定制性** | 有限 | 完全可定制 |
| **透明度** | 黑盒 | 完全透明 |

## 后续优化方向

### 1. 功能扩展
- 增加更多工具函数（天气查询、单位换算等）
- 支持自定义工具热插拔
- 增加多模态输入支持

### 2. 技术优化
- 改进推理算法（机器学习方法）
- 增强记忆机制（向量数据库）
- 优化执行效率（异步处理）

### 3. 用户体验
- 提供Web界面
- 支持对话历史导出
- 增加多语言支持

## 总结

这个项目实现了一个真正从0到1的智能Agent系统，具备完整的感知、记忆、推理、规划和行动能力。系统架构清晰，模块化程度高，易于扩展和维护。通过详细的思考过程展示，用户可以清楚地了解AI的决策机制，实现了真正的透明化AI。

---

**项目价值**：展示了如何从零开始构建一个完整的智能体系统，为AI产品经理提供了宝贵的技术理解和实践经验。
